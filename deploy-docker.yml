---
- name: setup pre-requisites
  hosts: all
  become: yes
  become_user: root
  roles:
    - create-sudo-user
    - install-modules
    - configure-hosts-file

- name: copy public key to nodes
  become: yes
  remote_user: docker
  hosts: dockernodes
  roles:
    - copy-keys

- name: install docker
  become: yes
  become_user: docker
  hosts: dockernodes
  roles:
    - docker-installation
